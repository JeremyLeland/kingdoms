<title>ThreeJS test</title>
<link rel="stylesheet" href="../style.css">

<script type="module">
  import * as THREE from '../lib/threejs/three.module.js';
  import { ThreeGame } from '../src/common/ThreeGame.js';
  import { OrbitControls } from '../lib/threejs/OrbitControls.js';
  
  const game = new ThreeGame();
  game.scene.background = new THREE.Color( 0x000022 );
  game.camera.position.set( 5, 5, 5 );
  game.camera.lookAt( 0, 0, 0 );

  const controls = new OrbitControls( game.camera, game.renderer.domElement );
  controls.target.set( 0, 0, 0 );
  // controls.minDistance = 1;
  // controls.maxDistance = 10;
  controls.update();


  game.scene.add( new THREE.AxesHelper( 5 ) );

  const grid = new THREE.GridHelper( 10, 10 );
  grid.material.opacity = 0.2;
  grid.material.transparent = true;
  game.scene.add( grid );

  game.scene.add( new THREE.AmbientLight( 0xffffff, 0.4 ) );

  const light = new THREE.DirectionalLight( 0xffffff, 0.8 );
  light.position.set( 0, 1, 1 );
  light.target.position.set( 0, 0, 0 );
  game.scene.add( light );

  const group = new THREE.Group();
  
  const body = new THREE.Mesh( 
    new THREE.SphereGeometry( 1, 32, 32, 0, Math.PI * 2, 0, Math.PI / 2 ), 
    new THREE.MeshPhongMaterial( { color: 'green' } ) 
  );

  body.position.set( 0, 0, 0 );
  body.scale.set( 1, 2, 1 );

  group.add( body );

  const head = new THREE.Mesh( 
    new THREE.SphereGeometry( 1, 32, 32 ), 
    new THREE.MeshPhongMaterial( { color: 'peach' } ) 
  );

  head.position.set( 0, 2 + 0.75 - 0.2, 0 );
  head.scale.set( 0.75, 0.75, 0.75 ); 

  group.add( head );


  game.scene.add( group );


  game.start( ( dt ) => {
    
  } );

</script>
